{"version":3,"sources":["../../src/plugins/HandlebarsPlugin.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAI,aAAa,QAAQ,yBAAR,CAAjB;AACA,IAAI,UAAU,QAAQ,oBAAR,CAAd;AACA,IAAI,KAAK,QAAQ,IAAR,CAAT;AACA,IAAI,MAAM,QAAQ,UAAR,CAAV;AACA,IAAI,MAAM,QAAQ,YAAR,CAAV;AACA,IAAI,SAAS,QAAQ,UAAR,CAAb;AACA,IAAI,SAAS,QAAQ,aAAR,CAAb;;IAEM,gB;;;;;;;;;;;8BACI;AACF,gBAAI,QAAQ,KAAK,aAAL,CAAmB,KAAK,aAAL,CAAmB,WAAtC,CAAZ;;AAEA,gBAAI,eAAe;AACf,sBAAM,KAAK,aAAL,CAAmB;AADV,aAAnB;;AAIA,gBAAI,UAAU;AACV,uBAAO,KAAK,aAAL,CAAmB,KAAK,aAAL,CAAmB,KAAtC,CADG;AAEV,yBAAS,KAAK,aAAL,CAAmB;AAFlB,aAAd;;AAKA,uBAAW,UAAX,CAAsB,cAAtB,CAAqC,QAAQ,WAAW,UAAnB,CAArC;AACA,mBAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAkB,MAAlB,EAA0B;AACzC,oBAAI,GAAJ,CAAQ,KAAR,EACK,IADL,CACU,WAAW,YAAX,EAAyB,OAAzB,CADV,EAEK,IAFL,CAEU,OAAO,UAAS,IAAT,EAAe;AACxB,yBAAK,OAAL,GAAe,EAAf;AACH,iBAFK,CAFV,EAKK,IALL,CAKU,IAAI,IAAJ,CAAS,KAAK,iBAAd,CALV,EAMK,EANL,CAMQ,QANR,EAMkB,YAAW;AACrB;AACH,iBARL;AASH,aAVkB,CAUjB,IAViB,CAUZ,IAVY,CAAZ,CAAP;AAWH;;;;EAzB0B,M;;AA6B/B,OAAO,OAAP,GAAiB,gBAAjB","file":"HandlebarsPlugin.js","sourcesContent":["var handlebars = require('gulp-compile-handlebars');\nvar layouts = require('handlebars-layouts');\nvar fs = require('fs');\nvar vfs = require('vinyl-fs');\nvar map = require('map-stream');\nvar Plugin = require('./Plugin');\nvar rename = require('gulp-rename');\n\nclass HandlebarsPlugin extends Plugin {\n    run() {\n        var files = this._getFilePaths(this.configuration.directories);\n\n        var templateData = {\n            data: this.configuration.templateData\n        };\n\n        var options = {\n            batch: this._getFilePaths(this.configuration.batch),\n            helpers: this.configuration.helpers\n        };\n\n        handlebars.Handlebars.registerHelper(layouts(handlebars.Handlebars));\n        return new Promise(function(resolve, reject) {\n            vfs.src(files)\n                .pipe(handlebars(templateData, options))\n                .pipe(rename(function(path) {\n                    path.extname = '';\n                }))\n                .pipe(vfs.dest(this.destinationFolder))\n                .on('finish', function() {\n                    resolve();\n                });\n        }.bind(this));\n    }\n\n}\n\nmodule.exports = HandlebarsPlugin;"]}