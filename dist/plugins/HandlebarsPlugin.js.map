{"version":3,"sources":["../../src/plugins/HandlebarsPlugin.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAI,aAAa,QAAQ,yBAAR,CAAjB;AACA,IAAI,YAAY,QAAQ,oBAAR,CAAhB;AACA,IAAI,KAAK,QAAQ,IAAR,CAAT;AACA,IAAI,MAAM,QAAQ,UAAR,CAAV;AACA,IAAI,MAAM,QAAQ,YAAR,CAAV;AACA,IAAI,SAAS,QAAQ,UAAR,CAAb;AACA,IAAI,SAAS,QAAQ,aAAR,CAAb;;IAEM,gB;;;;;;;;;;;8BACI;AACF,gBAAI,QAAQ,KAAK,aAAL,EAAZ;;AAEA,gBAAI,eAAe;AACf,sBAAM,KAAK,aAAL,CAAmB;AADV,aAAnB;;AAIA,gBAAI,UAAU;AACV,uBAAO,KAAK,aAAL,CAAmB,KADhB;AAEV,yBAAS,KAAK,aAAL,CAAmB;AAFlB,aAAd;;AAKA,uBAAW,UAAX,CAAsB,cAAtB,CAAqC,UAAU,WAAW,UAArB,CAArC;;AAEA,mBAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAkB,MAAlB,EAA0B;AACzC,oBAAI,GAAJ,CAAQ,KAAR,EACK,IADL,CACU,OAAO,UAAS,IAAT,EAAe;AACxB,4BAAQ,GAAR,CAAY,IAAZ;AACA,yBAAK,OAAL,GAAe,EAAf;AACH,iBAHK,CADV,EAKK,IALL,CAKU,WAAW,YAAX,EAAyB,OAAzB,CALV,EAMK,IANL,CAMU,IAAI,IAAJ,CAAS,KAAK,iBAAd,CANV,EAOK,EAPL,CAOQ,QAPR,EAOkB,YAAW;AACrB,4BAAQ,GAAR,CAAY,QAAZ;AACA;AACH,iBAVL;AAWH,aAZkB,CAYjB,IAZiB,CAYZ,IAZY,CAAZ,CAAP;AAaH;;;;EA5B0B,M;;AAgC/B,OAAO,OAAP,GAAiB,gBAAjB","file":"HandlebarsPlugin.js","sourcesContent":["var handlebars = require('gulp-compile-handlebars');\nvar hbLayouts = require('handlebars-layouts');\nvar fs = require('fs');\nvar vfs = require('vinyl-fs');\nvar map = require('map-stream');\nvar Plugin = require('./Plugin');\nvar rename = require('gulp-rename');\n\nclass HandlebarsPlugin extends Plugin {\n    run() {\n        var files = this._getFilePaths();\n\n        var templateData = {\n            data: this.configuration.templateData\n        };\n\n        var options = {\n            batch: this.configuration.batch,\n            helpers: this.configuration.helpers\n        };\n\n        handlebars.Handlebars.registerHelper(hbLayouts(handlebars.Handlebars));\n\n        return new Promise(function(resolve, reject) {\n            vfs.src(files)\n                .pipe(rename(function(path) {\n                    console.log(path);\n                    path.extname = '';\n                }))\n                .pipe(handlebars(templateData, options))\n                .pipe(vfs.dest(this.destinationFolder))\n                .on('finish', function() {\n                    console.log('test 2');\n                    resolve();\n                });\n        }.bind(this));\n    }\n\n}\n\nmodule.exports = HandlebarsPlugin;"]}