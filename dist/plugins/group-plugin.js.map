{"version":3,"sources":["../../src/plugins/group-plugin.js"],"names":[],"mappings":";;;;;;;;;;;;AAAA,IAAI,kBAAkB,QAAQ,oBAAR,CAAtB;;IAEM,W;;;;;;;;;;;oCACU,O,EAAS,I,EAAM;AACvB,gBAAI,SAAS,QAAQ,MAAR,GAAiB,CAA9B;AACA,gBAAI,iBAAiB,CAArB;;AAEA,mBAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAkB,MAAlB,EAA0B;AACzC,oBAAI,iBAAiB,SAAjB,cAAiB,CAAS,MAAT,EAAiB;AAClC,wBAAI,iBAAiB,MAArB,EAA6B;AACzB;AACA;AACH,qBAHD,MAGO;AACH;AACH;AACJ,iBAPD;;AASA,oBAAI,MAAM,YAAY;AAClB,wBAAI,MAAM,OAAN,CAAc,QAAQ,cAAR,CAAd,MAA2C,IAA/C,EAAqD;AACjD,6BAAK,WAAL,CAAiB,QAAQ,cAAR,CAAjB,EAA0C,IAA1C,EAAgD,IAAhD,CAAqD,YAAM;AACvD;AACH,yBAFD;AAGH,qBAJD,MAIO;AACH,gCAAQ,cAAR,EAAwB,eAAxB,CAAwC,KAAK,YAA7C;AACA,gCAAQ,cAAR,EAAwB,oBAAxB,CAA6C,IAA7C;AACA,gCAAQ,cAAR,EAAwB,GAAxB,GAA8B,IAA9B,CAAmC,YAAM;AACrC;AACH,yBAFD;AAGH;AACJ,iBAZS,CAYR,IAZQ,CAYH,IAZG,CAAV;;AAcA;AAEH,aA1BkB,CA0BjB,IA1BiB,CA0BZ,IA1BY,CAAZ,CAAP;AA2BH;;;8BAEK;AACF,mBAAO,KAAK,WAAL,CAAiB,KAAK,aAAL,CAAmB,OAApC,EAA6C,KAAK,iBAAlD,CAAP;AACH;;;sCAEa,Y,EAAc;AACxB,wGAA2B,YAA3B,EAAyC,KAAK,kBAAL,CAAwB,OAAjE;AACH;;;;EAxCqB,e;;AA2C1B,OAAO,OAAP,GAAiB,WAAjB","file":"group-plugin.js","sourcesContent":["var WatchablePlugin = require('./watchable-plugin');\n\nclass GroupPlugin extends WatchablePlugin {\n    _runPlugins(plugins, path) {\n        var length = plugins.length - 1;\n        var currentRunning = 0;\n\n        return new Promise(function(resolve, reject) {\n            var handleAfterRun = function(plugin) {\n                if (currentRunning < length) {\n                    currentRunning ++;\n                    run();\n                } else {\n                    resolve();\n                }\n            };\n\n            var run = function () {\n                if (Array.isArray(plugins[currentRunning]) === true) {\n                    this._runPlugins(plugins[currentRunning], path).then(() => {\n                        handleAfterRun();\n                    });\n                } else {\n                    plugins[currentRunning].setSourceFolder(this.sourceFolder);\n                    plugins[currentRunning].setDestinationFolder(path);\n                    plugins[currentRunning].run().then(() => {\n                        handleAfterRun();\n                    });\n                }\n            }.bind(this);\n\n            run();\n\n        }.bind(this));\n    }\n\n    run() {\n        return this._runPlugins(this.configuration.plugins, this.destinationFolder);\n    }\n\n    getWatchGlobs(watchFolders) {\n        return super.getWatchGlobs(watchFolders, this.watchConfiguration.pattern);\n    }\n}\n\nmodule.exports = GroupPlugin;"]}