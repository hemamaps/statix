{"version":3,"sources":["../../src/plugins/handlebars-plugin.js"],"names":[],"mappings":";;;;;;;;;;;;AAAA,IAAI,aAAa,QAAQ,yBAAR,CAAjB;AACA,IAAI,UAAU,QAAQ,oBAAR,CAAd;AACA,IAAI,MAAM,QAAQ,UAAR,CAAV;AACA,IAAI,kBAAkB,QAAQ,oBAAR,CAAtB;AACA,IAAI,SAAS,QAAQ,aAAR,CAAb;;IAEM,gB;;;;;;;;;;;4BACE,K,EAAO;AACP,gBAAI,UAAU,SAAd,EAAyB;AACrB,wBAAQ,KAAK,aAAL,CAAmB,KAAK,aAAL,CAAmB,WAAtC,CAAR;AACH;;AAED,gBAAI,eAAe;AACf,sBAAM,KAAK,aAAL,CAAmB;AADV,aAAnB;;AAIA,gBAAI,UAAU;AACV,uBAAO,KAAK,aAAL,CAAmB,KAAK,aAAL,CAAmB,KAAtC,CADG;AAEV,yBAAS,KAAK,aAAL,CAAmB;AAFlB,aAAd;;AAKA,uBAAW,UAAX,CAAsB,cAAtB,CAAqC,QAAQ,WAAW,UAAnB,CAArC;AACA,mBAAO,IAAI,OAAJ,CAAY,UAAS,OAAT,EAAkB,MAAlB,EAA0B;AACzC,oBAAI,GAAJ,CAAQ,KAAR,EACK,IADL,CACU,WAAW,YAAX,EAAyB,OAAzB,CADV,EAEK,IAFL,CAEU,OAAO,UAAS,IAAT,EAAe;AACxB,yBAAK,OAAL,GAAe,EAAf;AACH,iBAFK,CAFV,EAKK,IALL,CAKU,IAAI,IAAJ,CAAS,KAAK,iBAAd,CALV,EAMK,EANL,CAMQ,QANR,EAMkB,YAAW;AACrB;AACH,iBARL;AASH,aAVkB,CAUjB,IAViB,CAUZ,IAVY,CAAZ,CAAP;AAWH;;;sCAEa,Y,EAAc;AACxB,6GAA2B,YAA3B,EAAyC,KAAK,kBAAL,CAAwB,OAAjE;AACH;;;;EA/B0B,e;;AAkC/B,OAAO,OAAP,GAAiB,gBAAjB","file":"handlebars-plugin.js","sourcesContent":["var handlebars = require('gulp-compile-handlebars');\nvar layouts = require('handlebars-layouts');\nvar vfs = require('vinyl-fs');\nvar WatchablePlugin = require('./watchable-plugin');\nvar rename = require('gulp-rename');\n\nclass HandlebarsPlugin extends WatchablePlugin {\n    run(files) {\n        if (files === undefined) {\n            files = this._getFilePaths(this.configuration.directories);\n        }\n\n        var templateData = {\n            data: this.configuration.templateData\n        };\n\n        var options = {\n            batch: this._getFilePaths(this.configuration.batch),\n            helpers: this.configuration.helpers\n        };\n\n        handlebars.Handlebars.registerHelper(layouts(handlebars.Handlebars));\n        return new Promise(function(resolve, reject) {\n            vfs.src(files)\n                .pipe(handlebars(templateData, options))\n                .pipe(rename(function(path) {\n                    path.extname = '';\n                }))\n                .pipe(vfs.dest(this.destinationFolder))\n                .on('finish', function() {\n                    resolve();\n                });\n        }.bind(this));\n    }\n\n    getWatchGlobs(watchFolders) {\n        return super.getWatchGlobs(watchFolders, this.watchConfiguration.pattern);\n    }\n}\n\nmodule.exports = HandlebarsPlugin;"]}